<launch>
  <arg name="bag_path" />
  <param name="hydrus_xi/robot_description" command="$(find xacro)/xacro.py '$(find hydrus_xi)/robots/quad/upboard202007.urdf.xacro'" />
  <param name="use_sim_time" value="true" />
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find hydrus_xi)/config/quad/hydrus_xi_experiment.rviz"/>
  <node pkg="tf" type="static_transform_publisher" name="tf_static_echo" args="0 0 0 0 0 0 1 hydrus_xi/root hydrus_xi/link1 10" />
  <node pkg="hydrus_xi" type="thrust.py" name="thrust_viz" />
  <!--node pkg="hydrus_xi" type="target_error.py" name="target_error" output="screen" /-->
  <include file="$(find timed_roslaunch)/timed_roslaunch.launch">
    <arg name="time" value="1" />
    <arg name="pkg" value="hydrus_xi" />
    <arg name="file" value="rosbag_play.launch" />
    <arg name="node_name" value="rosbagplay" />
    <arg name="value" value="bag_path:=$(arg bag_path)" />
  </include>
</launch>
